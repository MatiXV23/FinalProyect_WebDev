
<form #miForm="ngForm" (ngSubmit)="handleClick($event)" class="grid grid-cols-1 gap-6 md:grid-cols-2">
  <ion-input
    [(ngModel)]="user().nombres"
    name="nombres"
    class="mt-10"
    label="Nombres"
    label-placement="stacked"
    fill="outline"
    type="text"
    placeholder="Enter text"
    required
  ></ion-input>
    
  <ion-input
    [(ngModel)]="user().apellidos"
    name="apellidos"
    class="md:mt-10"
    label="Apellidos"
    label-placement="stacked"
    fill="outline"
    type="text"
    placeholder="Enter text"
    required
  ></ion-input>

  <ion-input
    [(ngModel)]="user().email"
    name="email"
    label="Correo electronico"
    label-placement="stacked"
    fill="outline"
    type="email"
    placeholder="Enter text"
    required
  ></ion-input>

  <ion-input
    [(ngModel)]="user().direccion"
    name="direccion"
    label="Direccion"
    label-placement="stacked"
    fill="outline"
    type="text"
    placeholder="Enter text"
    required
  ></ion-input>
  

  @if (departamentos.hasValue()) {
  <ion-select
  [(ngModel)]="user().id_departamento"
  name="id_departamento"
  label="Departamento"
  label-placement="stacked"
  fill="outline"
  type="select"
  required
  >@for (item of departamentos.value(); track $index) {
  <ion-select-option [value]="item.id_departamento">{{ item.nombre }}</ion-select-option>
  }</ion-select>
  }
  

  <ion-input
    [(ngModel)]="user().nro_documento"
    name="nro_documento"
    label="Documento"
    label-placement="stacked"
    fill="outline"
    type="number"
    required
  ></ion-input>

  <ion-input
    [(ngModel)]="password"
    name="password"
    label="Contraseña"
    label-placement="stacked"
    fill="outline"
    placeholder="Enter text"
    required
  ><ion-input-password-toggle slot="end"></ion-input-password-toggle>
  </ion-input>

  <ion-input
    name="password_repeat"
    label="Repita la Contraseña"
    label-placement="stacked"
    fill="outline"
    placeholder="Enter text"
    required
  ><ion-input-password-toggle slot="end"></ion-input-password-toggle>
  </ion-input>

    @if (isAdmin()) {
    <ion-checkbox
    [(ngModel)]="user().is_admin"
    name="is_admin"  labelPlacement="end"
    >Administrador</ion-checkbox>
  }
  <ion-button type="submit" [disabled]="miForm.invalid" [color]="miForm.invalid ? 'danger' : '' " class="self-center mt-6 md:col-span-2">{{buttonMSG()}}</ion-button>
</form>
